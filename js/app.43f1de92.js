(function(e){function t(t){for(var r,i,s=t[0],c=t[1],u=t[2],d=0,l=[];d<s.length;d++)i=s[d],a[i]&&l.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);h&&h(t);while(l.length)l.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},i={app:0},a={app:0},o=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-5e1f4541":"d59a32a6","chunk-170a4252":"b040ee7f","chunk-7ffe5fde":"c2c1ded9","chunk-0f6dfc3e":"8943fab3","chunk-746ff675":"abe54311","chunk-fe863fd8":"4e7a2666","chunk-43453822":"7798e8a9","chunk-94f25116":"a2c5ac57","chunk-c9daae2a":"d5f3420b","chunk-d6c576d8":"eb3e1b56","chunk-24b045d1":"3dff7503","chunk-0b5a500e":"3a607808"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-5e1f4541":1,"chunk-170a4252":1,"chunk-7ffe5fde":1,"chunk-0f6dfc3e":1,"chunk-746ff675":1,"chunk-fe863fd8":1,"chunk-43453822":1,"chunk-94f25116":1,"chunk-c9daae2a":1,"chunk-d6c576d8":1,"chunk-24b045d1":1,"chunk-0b5a500e":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise(function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-5e1f4541":"c9fdf046","chunk-170a4252":"ba5ffa42","chunk-7ffe5fde":"a60b8f02","chunk-0f6dfc3e":"38bdacb3","chunk-746ff675":"bd0b3a04","chunk-fe863fd8":"023b71ce","chunk-43453822":"410ef375","chunk-94f25116":"925c255d","chunk-c9daae2a":"31696690","chunk-d6c576d8":"8b1be1f3","chunk-24b045d1":"452d7974","chunk-0b5a500e":"6b336dd5"}[e]+".css",a=c.p+r,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var u=o[s],d=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(d===r||d===a))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){u=l[s],d=u.getAttribute("data-href");if(d===r||d===a)return t()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=t,h.onerror=function(t){var r=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.request=r,delete i[e],h.parentNode.removeChild(h),n(o)},h.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(h)}).then(function(){i[e]=0}));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise(function(t,n){r=a[e]=[t,n]});t.push(r[2]=o);var u,d=document.createElement("script");d.charset="utf-8",d.timeout=120,c.nc&&d.setAttribute("nonce",c.nc),d.src=s(e),u=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+r+": "+i+")");o.type=r,o.request=i,n[1](o)}a[e]=void 0}};var l=setTimeout(function(){u({type:"timeout",target:d})},12e4);d.onerror=d.onload=u,document.head.appendChild(d)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],d=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var h=d;o.push([1,"chunk-vendors"]),n()})({0:function(e,t){},"034f":function(e,t,n){"use strict";var r=n("1356"),i=n.n(r);i.a},"0c12":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n("2b0e"),i=new r["default"]},1:function(e,t,n){e.exports=n("56d7")},1356:function(e,t,n){},3887:function(e,t,n){"use strict";n("96cf");var r=n("1da1"),i=(n("cadf"),n("551c"),n("097d"),n("b994")),a="query GetListings($hostId: String!) {\n  getListings(hostId: $hostId) {\n    hostId\n    listingId\n    listingName\n    listingUrl\n    paymentStatus\n    registeredOn\n    lastUpdateOn\n  }\n}\n",o="mutation CreateListing($hostId: String!, $listingId: String!, $listingName: String, $listingUrl: String, $paymentStatus: String,  $registeredOn: AWSDate, $lastUpdateOn: AWSDateTime) {\n  createListing(input: { hostId: $hostId, listingId: $listingId, listingName: $listingName, listingUrl: $listingUrl, paymentStatus: $paymentStatus, registeredOn: $registeredOn, lastUpdateOn: $lastUpdateOn })\n  {\n    hostId\n    listingId\n    listingName\n    listingUrl\n    paymentStatus\n    registeredOn\n    lastUpdateOn\n  }\n}\n",s="mutation UpdateListing($hostId: String!, $listingId: String!, $listingName: String, $listingUrl: String, $paymentStatus: String,  $registeredOn: AWSDate, $lastUpdateOn: AWSDateTime, $expectedLastUpdateOn: AWSDateTime!) {\n  updateListing(input: { hostId: $hostId, listingId: $listingId, listingName: $listingName, listingUrl: $listingUrl, paymentStatus: $paymentStatus, registeredOn: $registeredOn, lastUpdateOn: $lastUpdateOn }, expectedLastUpdateOn: $expectedLastUpdateOn)\n  {\n    hostId\n    listingId\n    listingName\n    listingUrl\n    paymentStatus\n    registeredOn\n    lastUpdateOn\n  }\n}\n",c="query GetReservations($listingId: String!) {\n  getReservations(listingId: $listingId) {\n    reservationCode\n    listingId\n    hostId\n    username\n    email\n    phoneNo\n    bookingId\n    listingName\n    guestName\n    identityId\n    memberCount\n    checkInDate\n    checkOutDate\n    keyInfo\n    active\n    previousCountry\n    previousCity\n    nextCountry\n    nextCity\n    lastUpdateOn\n  }\n}\n",u="query GetReservation($reservationCode: String!, $listingId: String!) {\n  getReservation(reservationCode: $reservationCode, listingId: $listingId) {\n    reservationCode\n    listingId\n    hostId\n    username\n    email\n    phoneNo\n    bookingId\n    listingName\n    guestName\n    identityId\n    memberCount\n    checkInDate\n    checkOutDate\n    keyInfo\n    active\n    previousCountry\n    previousCity\n    nextCountry\n    nextCity\n    lastUpdateOn\n  }\n}\n",d="mutation UpdateReservation($hostId: String, $reservationCode: String!, $listingId: String!, $username: String, $email: String, $phoneNo: String, $bookingId: String, $listingName: String, $guestName: String, $identityId: String, $memberCount: Int, $checkInDate: AWSDate, $checkOutDate: AWSDate, $keyInfo: String, $active: Boolean, $previousCountry: String, $previousCity: String, $nextCountry: String, $nextCity: String, $lastUpdateOn: AWSDateTime, $expectedLastUpdateOn: AWSDateTime!) {\n  updateReservation(input: { hostId: $hostId, reservationCode: $reservationCode, listingId: $listingId, username: $username, email: $email, phoneNo: $phoneNo, bookingId: $bookingId, listingName: $listingName, guestName: $guestName, identityId: $identityId, memberCount: $memberCount, checkInDate: $checkInDate, checkOutDate: $checkOutDate, keyInfo: $keyInfo, active: $active, previousCountry: $previousCountry, previousCity: $previousCity, nextCountry: $nextCountry, nextCity: $nextCity, lastUpdateOn: $lastUpdateOn }, expectedLastUpdateOn: $expectedLastUpdateOn) {\n    reservationCode\n    listingId\n    hostId\n    username\n    email\n    phoneNo\n    bookingId\n    listingName\n    guestName\n    identityId\n    memberCount\n    checkInDate\n    checkOutDate\n    keyInfo\n    active\n    previousCountry\n    previousCity\n    nextCountry\n    nextCity\n    lastUpdateOn\n  }\n}\n",l="query GetMembers($reservationCode: String!) {\n  getMembers(reservationCode: $reservationCode) {\n    reservationCode\n    memberNo\n    imgBucket\n    faceImgName\n    faceImgKey\n    idImgName\n    idImgKey\n    similarity\n    idMatches\n    idVerified\n    fullName\n    gender\n    birthDate\n    address\n    idNumber\n    nationality\n    occupation\n    roomNumber\n    lastUpdateOn\n  }\n}\n",h="mutation UpdateMember($reservationCode: String!, $memberNo: Int!, $imgBucket: String, $faceImgName: String, $faceImgKey: String, $idImgName: String, $idImgKey: String, $similarity: Float, $idMatches: Boolean, $idVerified: Boolean, $fullName: String, $gender: String, $birthDate: AWSDate, $address: String, $idNumber: String, $nationality: String, $occupation: String, $roomNumber: String, $lastUpdateOn: AWSDateTime, $expectedLastUpdateOn: AWSDateTime!) {\n  updateMember(input: { reservationCode: $reservationCode, memberNo: $memberNo, imgBucket: $imgBucket, faceImgName: $faceImgName, faceImgKey: $faceImgKey, idImgName: $idImgName, idImgKey: $idImgKey, similarity: $similarity, idMatches: $idMatches, idVerified: $idVerified, fullName: $fullName, gender: $gender, birthDate: $birthDate, address: $address, idNumber: $idNumber, nationality: $nationality, occupation: $occupation, roomNumber: $roomNumber, lastUpdateOn: $lastUpdateOn }, expectedLastUpdateOn: $expectedLastUpdateOn)\n  {\n    reservationCode\n    memberNo\n    imgBucket\n    faceImgName\n    faceImgKey\n    idImgName\n    idImgKey\n    similarity\n    idMatches\n    idVerified\n    fullName\n    gender\n    birthDate\n    address\n    idNumber\n    nationality\n    occupation\n    roomNumber\n    lastUpdateOn\n  }\n}\n",p="mutation GenerateReservation($hostId: String, $listingId: String, $listingName: String, $email: String, $phoneNo: String, $bookingId: String, $guestName: String, $memberCount: Int, $checkInDate: AWSDate, $checkOutDate: AWSDate, $keyInfo: String) {\n  generateReservation(input: { hostId: $hostId, listingId: $listingId, listingName: $listingName, email: $email, phoneNo: $phoneNo, bookingId: $bookingId, guestName: $guestName, memberCount: $memberCount, checkInDate: $checkInDate, checkOutDate: $checkOutDate, keyInfo: $keyInfo })\n  {\n    hostId\n    listingId\n    reservationCode\n    bookingId\n    phoneNo\n    email\n    guestName\n    memberCount\n    checkInDate\n    checkOutDate\n    keyInfo\n    active\n    lastUpdateOn\n  }\n}\n",f="subscription OnCreateNotification($hostId: String!) {\n  onCreateNotification(hostId: $hostId)\n  {\n    hostId\n    reservationCode\n    listingId\n    bookingId\n    identityId\n    phoneNo\n    guestName\n    memberCount\n    checkInDate\n    checkOutDate\n    lastUpdateOn\n  }\n}\n",g="query GetNotifications($hostId: String!) {\n  getNotifications(hostId: $hostId) {\n    hostId\n    reservationCode\n    listingId\n    bookingId\n    identityId\n    phoneNo\n    guestName\n    memberCount\n    checkInDate\n    checkOutDate\n    lastUpdateOn\n  }\n}\n",m="mutation DeleteNotification($hostId: String!, $reservationCode: String!) {\n  deleteNotification(input: { hostId: $hostId, reservationCode: $reservationCode }) {\n    hostId\n    reservationCode\n    listingId\n    bookingId\n    identityId\n    phoneNo\n    guestName\n    memberCount\n    checkInDate\n    checkOutDate\n  }\n}\n",v="query GetDevices($listingId: String!) {\n  getDevices(listingId: $listingId) {\n    listingId\n    deviceId\n    deviceName\n    lastUpdateOn\n  }\n}\n",b="mutation CreateDevice($listingId: String!, $deviceId: String!, $deviceName: String, $lastUpdateOn: AWSDateTime) {\n  createDevice(input: { listingId: $listingId, deviceId: $deviceId, deviceName: $deviceName,lastUpdateOn: $lastUpdateOn })\n  {\n    listingId\n    deviceId\n    deviceName\n    lastUpdateOn\n  }\n}\n",I="query GetCalendars($listingId: String!, $checkInDate: String!, $checkOutDate: String!) {\n  getCalendars(listingId: $listingId, checkInDate: $checkInDate, checkOutDate: $checkOutDate) {\n    reservedDate\n  }\n}\n";t["a"]={getListings:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["API"].graphql(Object(i["graphqlOperation"])(a,{hostId:t})).catch(function(e){return console.error("getListings error!",e),e});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),createListing:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.lastUpdateOn=(new Date).toISOString(),e.next=3,i["API"].graphql(Object(i["graphqlOperation"])(o,t)).catch(function(e){return console.error("createListing",e),e});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),updateListing:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.expectedLastUpdateOn=t.lastUpdateOn,t.lastUpdateOn=(new Date).toISOString(),e.next=4,i["API"].graphql(Object(i["graphqlOperation"])(s,t)).catch(function(e){return console.error("updateListing",e),e});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getReservations:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["API"].graphql(Object(i["graphqlOperation"])(c,{listingId:t})).catch(function(e){return console.error("getReservations",e),e});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getReservation:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["API"].graphql(Object(i["graphqlOperation"])(u,{reservationCode:t,listingId:n})).catch(function(e){return console.error("getReservation",e),e});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),updateReservation:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.expectedLastUpdateOn=t.lastUpdateOn,t.lastUpdateOn=(new Date).toISOString(),e.next=4,i["API"].graphql(Object(i["graphqlOperation"])(d,t)).catch(function(e){return console.error("updateReservation",e),e});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getMembers:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["API"].graphql(Object(i["graphqlOperation"])(l,{reservationCode:t})).catch(function(e){return console.error("getMembers",e),e});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),updateMember:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.expectedLastUpdateOn=t.lastUpdateOn,t.lastUpdateOn=(new Date).toISOString(),e.next=4,i["API"].graphql(Object(i["graphqlOperation"])(h,t)).catch(function(e){return console.error("updateMember",e),e});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),generateReservation:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["API"].graphql(Object(i["graphqlOperation"])(p,t)).catch(function(e){return console.error("generateReservation",e),e});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),onCreateNotification:function(e){return i["API"].graphql(Object(i["graphqlOperation"])(f,{hostId:e}))},deleteNotification:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["API"].graphql(Object(i["graphqlOperation"])(m,t)).catch(function(e){return console.error("getReservations",e),e});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getNotifications:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["API"].graphql(Object(i["graphqlOperation"])(g,{hostId:t})).catch(function(e){return console.error("getNotifications",e),e});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getDevices:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["API"].graphql(Object(i["graphqlOperation"])(v,{listingId:t})).catch(function(e){return console.error("getDevices",e),e});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),createDevice:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.lastUpdateOn=(new Date).toISOString(),e.next=3,i["API"].graphql(Object(i["graphqlOperation"])(b,t)).catch(function(e){return console.error("createDevice",e),e});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getCalendars:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return console.log("getCalendars params",t),e.next=3,i["API"].graphql(Object(i["graphqlOperation"])(I,{listingId:t.listingId,checkInDate:t.checkInDate,checkOutDate:t.checkOutDate})).catch(function(e){return console.error("getCalendars",e),e});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},4360:function(e,t,n){"use strict";n("cadf"),n("551c"),n("097d");var r=n("2b0e"),i=n("2f62"),a=n("bfa9"),o=n("a78e"),s=n.n(o),c=(n("96cf"),n("1da1")),u=n("b994"),d=n("19b2"),l={hostId:null},h={setHostId:function(e,t){e.hostId=t}},p={login:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,u["Auth"].currentAuthenticatedUser().catch(function(e){throw console.error(e),e});case 3:r=e.sent,r&&r.signInUserSession&&n("setHostId",r.username);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),logout:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,e.next=3,u["Auth"].signOut();case 3:d["AmplifyEventBus"].$emit("authState","signedOut"),n("setHostId",null);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()},f={},g={namespaced:!0,state:l,getters:f,actions:p,mutations:h},m=(n("a481"),n("28a5"),n("7f7f"),n("55dd"),n("f751"),n("369b")),v=n.n(m),b=n("162d"),I=n.n(b),k=n("3887"),y=n("a18c"),w=n("aecd"),O=n("ed08"),$=new I.a,N={listingId:null,listingName:null,reservation:null,deviceId:null,listings:[],reservations:[],members:[],notifications:[],devices:[]},x={loadListings:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,t.dispatch,r=t.rootState,e.next=3,k["a"].getListings(r.session.hostId);case 3:if(i=e.sent,!i.errors){e.next=8;break}return e.abrupt("return",i.errors[0]);case 8:a=i.data.getListings,n("setListings",a);case 10:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),createListing:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,r=t.state,i=t.rootState,n.hostId=i.session.hostId,n.listingId=$.randomUUID(6),e.next=5,k["a"].createListing(n);case 5:if(a=e.sent,!a.errors){e.next=10;break}throw a.errors[0];case 10:o=a.data.createListing,r.listings.push(o);case 12:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),updateListing:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,r=t.state,e.next=3,k["a"].updateListing(n.params);case 3:if(i=e.sent,!i.errors){e.next=8;break}throw i.errors[0];case 8:a=i.data.updateListing,Object.assign(r.listings[n.index],a);case 10:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),loadReservations:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,k["a"].getReservations(n);case 3:if(i=e.sent,!i.errors){e.next=8;break}throw i.errors[0];case 8:a=i.data.getReservations,r("setReservations",a);case 10:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),loadMembers:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var n,r,i,a,o,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,e.next=3,k["a"].getMembers(r.reservation.reservationCode);case 3:if(i=e.sent,console.log("loadMembers rtn",i),!i.errors){e.next=9;break}throw i.errors[0];case 9:if(a=i.data.getMembers,a.length<r.reservation.memberCount)for(o=a.map(function(e){return e.memberNo}),s=1,s;s<=r.reservation.memberCount;s++)-1===o.indexOf(s)&&a.push({reservationCode:r.reservation.reservationCode,memberNo:s,fullName:null});a.sort(function(e,t){return e.memberNo<t.memberNo?-1:e.memberNo>t.memberNo?1:0}),n("setMembers",a);case 13:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),updateMember:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,r=t.state,e.next=3,k["a"].updateMember(n);case 3:if(i=e.sent,!i.errors){e.next=8;break}throw i.errors[0];case 8:a=i.data.updateMember,o=a.memberNo-1,Object.assign(r.members[o],a);case 11:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),validateCalendar:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,r=t.state,console.log("validateCalendar",n),n.params.listingId=r.listingId,e.next=5,k["a"].getCalendars(n.params);case 5:if(i=e.sent,!i.errors){e.next=10;break}throw i.errors[0];case 10:return e.abrupt("return",i.data.getCalendars);case 11:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),updateReservation:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,r=t.state,console.log("updateReservation val",n.params),e.next=4,k["a"].updateReservation(n.params);case 4:if(i=e.sent,!i.errors){e.next=9;break}throw i.errors[0];case 9:a=i.data.updateReservation,Object.assign(r.reservations[n.index],a);case 11:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),generateReservation:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var r,i,a,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,r=t.state,i=t.rootState,n.hostId=i.session.hostId,n.listingId=r.listingId,n.listingName=r.listingName,console.log("generateReservation val",JSON.stringify(n)),e.next=7,k["a"].generateReservation(n);case 7:if(a=e.sent,!a.errors){e.next=12;break}throw a.errors[0];case 12:o=a.data.generateReservation,r.reservations.push(o);case 14:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),gotoReservations:function(e,t){var n=e.commit;console.log("gotoReservations",t),n("setListingId",t.listingId),n("setListingName",t.listingName),y["a"].push({path:"/reservations"})},pickReservation:function(e,t){var n=e.commit;console.log("pickReservation",t),n("setReservation",t),"members"===y["a"].currentRoute.name?y["a"].go():y["a"].push({path:"/members"})},uploadJson:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s,c;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.rootState,i=t.state,a=t.dispatch,o=n.fileObject,e.next=4,a("parseFile",o).catch(function(e){throw console.error("parseFile",e),e});case 4:return s=e.sent,c=s.map(function(e){return e.listingId=i.listingId,e.hostId=r.session.hostId,e}),e.next=8,w["a"].putJson($.randomUUID(8)+".json",c);case 8:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),readFile:function(e,t){e.commit;return new Promise(function(e,n){var r=new FileReader;r.onload=function(t){e(t.target.result)},r.readAsArrayBuffer(t)})},parseFile:function(e,t){e.commit;return new Promise(function(e,n){v.a.parse(t,{header:!0,skipEmptyLines:!0,beforeFirstChunk:function(e){var t=e.split(/\r\n|\r|\n/),n=t[0].split(","),r=O["c"].transformHeaderAirbnb(n);return t[0]=r.join(),t.join("\n")},transform:function(e,t){try{return O["c"].transformAirbnb(e,t)}catch(r){n(r)}},complete:function(t){console.log("complete results",t),e(t.data)}})})},onCreateNotification:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.rootState,e.abrupt("return",k["a"].onCreateNotification(n.session.hostId));case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),loadNotifications:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.rootState,e.next=3,k["a"].getNotifications(r.session.hostId);case 3:if(i=e.sent,console.log("getNotifications",i),!i.errors){e.next=9;break}throw i.errors[0];case 9:a=i.data.getNotifications,n("setNotifications",a);case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),addNotification:function(e,t){var n=e.state;n.notifications.push(t),console.log("state.notifications.length",n.notifications.length)},removeNotification:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var r,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=t.state,e.next=3,k["a"].deleteNotification(n);case 3:if(i=e.sent,console.log("removeNotification rtn",i),!i.errors){e.next=9;break}return e.abrupt("return",i.errors[0]);case 9:i.data.deleteNotification,a=r.notifications.indexOf(n),a>-1&&r.notifications.splice(a,1);case 12:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),gotoDevices:function(e,t){var n=e.commit;console.log("gotoDevices",t),n("setListingId",t.listingId),n("setListingName",t.listingName),y["a"].push({path:"/devices"})},loadDevices:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t){var n,r,i,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.commit,r=t.state,e.next=3,k["a"].getDevices(r.listingId);case 3:if(i=e.sent,console.log("getDevices",i),!i.errors){e.next=9;break}return e.abrupt("return",i.errors[0]);case 9:a=i.data.getDevices,n("setDevices",a);case 11:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),addDevice:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(t,n){var r,i,a,o,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.commit,r=t.state,i=$cookies.get("deviceInfo"),i&&i.deviceId?n.deviceId=i.deviceId:n.deviceId=$.randomUUID(6),n.listingId=r.listingId,e.next=6,k["a"].createDevice(n);case 6:if(a=e.sent,!a.errors){e.next=11;break}throw a.errors[0];case 11:o=a.data.createDevice,r.devices.push(o),s={deviceId:o.deviceId,deviceName:o.deviceName,domain:window.location.hostname.replace("host.","")},$cookies.set("deviceInfo",s,null,null,s.domain);case 15:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}()},S={setDevices:function(e,t){e.devices=t},setMembers:function(e,t){e.members=t},setNotifications:function(e,t){e.notifications=t},setReservations:function(e,t){e.reservations=t},setListings:function(e,t){e.listings=t},setListingId:function(e,t){e.listingId=t},setListingName:function(e,t){e.listingName=t},setReservation:function(e,t){e.reservation=t}},R={},C={namespaced:!0,state:N,getters:R,actions:x,mutations:S};r["default"].use(i["a"]);var _=new a["a"]({restoreState:function(e,t){return s.a.getJSON(e)},saveState:function(e,t,n){return s.a.set(e,t,{expires:1/24})},modules:["session","host"]});t["a"]=new i["a"].Store({modules:{session:g,host:C},plugins:[_.plugin]})},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),i=n("bb71"),a=n("a722");n("da64");r["default"].use(i["a"],{iconfont:"md",components:{VLayout:a["a"]}});var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("top-menu"),n("v-content",[n("router-view")],1),n("warningDialog",{on:{closeWarningRefresh:e.onCloseWarningRefresh,closeWarningSignOut:e.onCloseWarningSignOut}})],1)},s=[],c=(n("96cf"),n("1da1")),u=function(){return Promise.all([n.e("chunk-5e1f4541"),n.e("chunk-7ffe5fde"),n.e("chunk-0f6dfc3e"),n.e("chunk-746ff675")]).then(n.bind(null,"fb62"))},d=function(){return Promise.all([n.e("chunk-5e1f4541"),n.e("chunk-7ffe5fde"),n.e("chunk-24b045d1")]).then(n.bind(null,"d021"))},l={name:"app",components:{warningDialog:d,topMenu:u},methods:{onCloseWarningSignOut:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$store.dispatch("session/logout").catch(function(e){return console.log("logout!!!",e)});case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),onCloseWarningRefresh:function(){var e=Object(c["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$router.go();case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},h=l,p=(n("034f"),n("2877")),f=n("6544"),g=n.n(f),m=n("7496"),v=n("549c"),b=Object(p["a"])(h,o,s,!1,null,null,null);b.options.__file="App.vue";var I=b.exports;g()(b,{VApp:m["a"],VContent:v["a"]});var k=n("a18c"),y=n("4360"),w=n("b994"),O=n.n(w),$=n("19b2"),N={aws_project_region:"ap-northeast-1",aws_cognito_identity_pool_id:"ap-northeast-1:ca68123f-99d5-4466-bfd2-69b6431c43fa",aws_cognito_region:"ap-northeast-1",aws_user_pools_id:"ap-northeast-1_10sqIoIdh",aws_user_pools_web_client_id:"3fe6u9f8b6grchc2jjjrlhc3me",aws_appsync_graphqlEndpoint:"https://6bm23ndoz5cvfh4yiwtvbxa4qi.appsync-api.ap-northeast-1.amazonaws.com/graphql",aws_appsync_region:"ap-northeast-1",aws_appsync_authenticationType:"AMAZON_COGNITO_USER_POOLS",aws_user_files_s3_bucket:"dev.storage.gocheckin.app",aws_user_files_s3_bucket_region:"ap-northeast-1"},x=N,S=n("a925"),R={gb:{message:{hello:"hello"},preCheckIn:{idVerified:"ID Picture Verfied"},checkIn:{titleId:"Identity - Click to change",titleFace:"Face - Click to change",next:"Next",previous:"Previous",rekogId:"Verify Identity",idVerified:"ID Picture Verfied",idMatches:"ID Picture Matches"},camera:{capture:"Take a picture"},menu:{gb:"EN",hk:"CN",jp:"JP"},about:{timeline_add_reservation:"After the reservation is confirmed the host adds the information with manual, automatic or batch-import approaches.",timeline_upload_id:"The guest retreives the login information of GoCheckIn. At the GoCheckIn Site the identity pictures of all the members are taken and uploaded.",timeline_verify_id:"The host verifies the identity pictures and other mandatory information.",timeline_guidebook:"After the verification by the host the guest will be able to get the guidebook.",timeline_match_id:"At the accommodation each members takes a face picture to match the previously taken identity picture.",timeline_host_verify:"Self Check-in will be done without the intervention of the host unless the special situations listed below: 1) The host is unable to verify all the identities before the guest arrives. 2) Any members re-takes the identity picture during identity-maching at the accommodation. 3) Special cases such as check-in of separated groups or the number of guests has to be changed.",timeline_key:"Identity-matching successfully completed，The guest manages to check in and get the key info.",timeline_guest_title_remote:"Guest Action (Before the trip)",timeline_guest_title_site:"Guest Action(At the accommodation)",timeline_host_title:"Host Operation"}},hk:{message:{hello:"你好"},preCheckIn:{idVerified:"證件圖片已确认"},checkIn:{titleId:"證件圖片 - 變更請點擊",titleFace:"頭像圖片 - 變更請點擊",next:"下一位",previous:"上一位",rekogId:"確認身分照片",idVerified:"證件圖片已确认",idMatches:"身分符合證件"},camera:{capture:"點擊拍照"},menu:{gb:"英",hk:"中",jp:"日"},about:{timeline_add_reservation:"房東獲取客人預約信息後，使用手動，批量或者自動等方式在GoCheckIn登记预约信息。",timeline_upload_id:"入住前客人獲得GoCheckIn帳號信息。在GoCheckIn網站登錄後，拍攝上傳入住成員的有效身分證件照片以及其他以及其他法規規定的信息。",timeline_verify_id:"房東確認身分證件照片是否清晰可用，以及其他信息是否正確有效。",timeline_guidebook:"獲得房東確認所有成員的身分證件後，客人可以從GoCheckIn網站獲取入住導航等信息。",timeline_match_id:"客人到達住宿地點，所有成員都拍攝了個人照片，以進行與证件照之間的人臉對比身分识别。",timeline_host_verify:"以下特殊情況之外，無需房東人工干預即可完成自動入住登記：1.客人到達住宿地點之前，房東未能確認所有入住客人成員的有效身分證件。2.在住宿地點進行身分識別時，客人從新拍攝了部分或所有成員的的身分證件。3.客人有分批入住登記或成員數量臨時變化等其他特殊情況。",timeline_key:"身分識別順利完成，客人獲取鑰匙等信息，成功登記入住。",timeline_guest_title_remote:"客人所執行的操作（開始行程之前）",timeline_guest_title_site:"客人所執行的操作（到達入住地點時）",timeline_host_title:"房東的操作"}},jp:{message:{hello:"你好"},preCheckIn:{idVerified:"證件圖片已确认"},checkIn:{titleId:"證件圖片 - 變更請點擊",titleFace:"頭像圖片 - 變更請點擊",next:"下一位",previous:"上一位",rekogId:"確認身分照片",idVerified:"證件圖片已确认",idMatches:"身分符合證件"},camera:{capture:"點擊拍照"},menu:{gb:"英",hk:"中",jp:"日"},about:{timeline_add_reservation:"宿泊予約確定後、ホストが手動、自動、またはインポートの方式でGoCheckInに情報を登録します。",timeline_upload_id:"ゲストがGoCheckInサイトのログイン情報を入手しました。ログイン後，各宿泊メンバーの身分証明書の写し、およびその他法令に基づいた情報を登録します。",timeline_verify_id:"ホストが身分証明書とその他の情報を確認します。",timeline_guidebook:"ホストによる身分証明書の確認が完了しましたら、ゲストがGoCheckInサイトで宿泊施設のガイドブック情報を取得できます。",timeline_match_id:"宿泊施設に到着後、各メンバーが顔写真を取り，顔認証による身分確認を行います。",timeline_host_verify:"以下の特殊状況以外に、無人チェックイン（セルフチェックイン）がスムーズに完成できます。１．チェックインまでゲストのすべての身分証明書をホストが確認できていない場合。２．宿泊施設にて顔写真撮影の際，身分証明書の写しが変更された場合。３．宿泊メンバーが別々のタイミングでチェックインする場合や、突然な人数変更の場合等特殊状況",timeline_key:"顔認証による身分確認でき、ゲストが入居のカギ情報を取得し、セルフチェックイン完了します。",timeline_guest_title_remote:"宿泊者（ゲスト）のアクション（旅を始める前）",timeline_guest_title_site:"宿泊者（ゲスト）のアクション（施設に到着時）",timeline_host_title:"宿泊施設管理者（ホスト）側のオペレーション"}}},C=R,_=n("ed08"),D=n("2b27"),j=n.n(D);r["default"].use($["AmplifyPlugin"],w),r["default"].use(S["a"]),r["default"].use(_["e"]),r["default"].use(j.a),j.a.config("1y"),r["default"].config.productionTip=!1,O.a.configure(x),w["Storage"].configure({level:"private"});var U=new S["a"]({locale:"hk",messages:C});new r["default"]({router:k["a"],store:y["a"],i18n:U,render:function(e){return e(I)},components:{App:I}}).$mount("#app")},a18c:function(e,t,n){"use strict";n("7514"),n("96cf");var r=n("1da1"),i=n("2b0e"),a=n("8c4f"),o=n("19b2"),s=n("4360"),c=(n("3887"),n("ed08")),u=function(){return Promise.all([n.e("chunk-5e1f4541"),n.e("chunk-7ffe5fde"),n.e("chunk-0f6dfc3e"),n.e("chunk-fe863fd8"),n.e("chunk-d6c576d8")]).then(n.bind(null,"e021"))},d=function(){return Promise.all([n.e("chunk-5e1f4541"),n.e("chunk-7ffe5fde"),n.e("chunk-0f6dfc3e"),n.e("chunk-fe863fd8"),n.e("chunk-94f25116")]).then(n.bind(null,"3f90"))},l=function(){return Promise.all([n.e("chunk-5e1f4541"),n.e("chunk-7ffe5fde"),n.e("chunk-0f6dfc3e"),n.e("chunk-fe863fd8"),n.e("chunk-43453822")]).then(n.bind(null,"69dc"))},h=function(){return Promise.all([n.e("chunk-5e1f4541"),n.e("chunk-170a4252")]).then(n.bind(null,"f820"))},p=function(){return Promise.all([n.e("chunk-5e1f4541"),n.e("chunk-7ffe5fde"),n.e("chunk-0f6dfc3e"),n.e("chunk-fe863fd8"),n.e("chunk-c9daae2a")]).then(n.bind(null,"aa72"))};i["default"].use(a["a"]),o["AmplifyEventBus"].$on("authState",function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("signedOut"!==t){e.next=6;break}console.log("signedOut"),c["a"].disconnect("onCreateNotification"),f.push({path:"/auth"}),e.next=18;break;case 6:if("signedIn"!==t){e.next=18;break}return console.log("signedIn"),e.next=10,s["a"].dispatch("session/login").catch(function(e){return console.error("login!!!",e),e});case 10:if(n=e.sent,!n){e.next=16;break}return window.alert(n),e.next=15,s["a"].dispatch("session/logout").catch(function(e){return console.error("login!!!",e)});case 15:return e.abrupt("return");case 16:c["a"].connect("onCreateNotification","loadNotifications","addNotification"),f.push({path:"/listings"});case 18:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());var f=new a["a"]({mode:"history",routes:[{path:"/listings",name:"listings",component:u,alias:"/",meta:{requiresAuth:!0}},{path:"/reservations",name:"reservations",component:d,meta:{requiresAuth:!0}},{path:"/members",name:"members",component:l,meta:{requiresAuth:!0}},{path:"/about",name:"about",component:h,meta:{requiresAuth:!0}},{path:"/devices",name:"devices",component:p,meta:{requiresAuth:!0}},{path:"/auth",name:"Authenticator",component:o["components"].Authenticator}]});f.beforeEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n,r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t.matched.some(function(e){return e.meta.requiresAuth})){e.next=5;break}if(s["a"].state.session.hostId){e.next=4;break}return e.next=4,s["a"].dispatch("session/logout").catch(function(e){return console.error("login!!!",e)});case 4:return e.abrupt("return",r());case 5:return e.abrupt("return",r());case 6:case"end":return e.stop()}},e,this)}));return function(t,n,r){return e.apply(this,arguments)}}()),f.afterEach(function(e,t){if(f.options.routes.find(function(t){return t.path===e.path||e.path===t.alias})){if("/auth"===e.path)return;c["a"].connect("onCreateNotification","loadNotifications","addNotification")}}),t["a"]=f},aecd:function(e,t,n){"use strict";(function(e){n("96cf");var r=n("1da1"),i=n("b994");t["a"]={putJson:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["Storage"].put(t,JSON.stringify(n),{level:"private",contentType:"application/json"}).catch(function(e){return console.log("storage.put",e)});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),put:function(){var t=Object(r["a"])(regeneratorRuntime.mark(function t(n,r){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["Storage"].put(n,new e(r,"base64"),{level:"private",contentType:"image/jpeg"}).catch(function(e){return console.log("storage.put",e)});case 2:return a=t.sent,t.abrupt("return",a);case 4:case"end":return t.stop()}},t,this)}));function n(e,n){return t.apply(this,arguments)}return n}(),get:function(){var e=Object(r["a"])(regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["Storage"].get(t,{level:"private"}).catch(function(e){return console.log("storage.get",e)});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}}).call(this,n("b639").Buffer)},ed08:function(e,t,n){"use strict";n("cadf"),n("551c"),n("097d");var r={install:function(e){var t={scrollX:0,scrollY:0,width:0,height:0},n=function(){t.scrollX=window.pageXOffset,t.scrollY=window.pageYOffset};document.addEventListener("scroll",n);var r=function(){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight};window.addEventListener("resize",r),r(),window.addEventListener("load",n),e.util.defineReactive(e.prototype,"$window",t)}},i=r,a=function(){var e=window.document,t=e.documentElement,n=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen,r=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?r.call(e):n.call(t)},o=a,s=n("0c12"),c=function(e){e&&(console.error("calldialog",JSON.stringify(e)),e.errorType==d.ChangedByOthers.errorType?u({message:d.ChangedByOthers.errorType,stack:d.ChangedByOthers.message}):e.errorType==d.CustomNoReservation.errorType?u({message:d.CustomNoReservation.message,stack:e.message}):u(e))},u=function(e){s["a"].$emit("WarningDialog",{showDialog:!0,errorType:e.errorType,errorMessage:e.message,errorStack:e.stack})},d={ChangedByOthers:{errorType:"DynamoDB:ConditionalCheckFailedException",message:"The data has been changed by another session. Please refresh or sign out."},CustomNoReservation:{errorType:"DynamoDB:CustomNoData",message:"There is no reservation available for this user."}},l=c,h=(n("a481"),n("ac6a"),n("a689")),p=n.n(h);function f(e){return e.forEach(function(e,t,n){"Confirmation code"===e?n[t]="bookingId":"Guest name"===e?n[t]="guestName":"Contact"===e?n[t]="phoneNo":"Listing"===e?n[t]="listingName":"Start date"===e?n[t]="checkInDate":"End date"===e?n[t]="checkOutDate":"# of adults"===e?n[t]="numberOfAdults":"# of children"===e?n[t]="numberOfChildren":"# of infants"===e&&(n[t]="numberOfInfants")}),e}function g(e,t){if("checkInDate"===t||"checkOutDate"===t||"Booked"===t)return e.replace(/(\d{4})\/(\d\d)\/(\d\d)/,"$1-$2-$3");if("phoneNo"===t){if(e){var n=p()(e).getNumber("e164");if(!n)throw Error("Invalid Phone Number: ".concat(e));return n}throw Error("No Phone Number!!")}return e}var m={transformHeaderAirbnb:f,transformAirbnb:g},v=(n("7514"),n("96cf"),n("1da1")),b=n("4360"),I=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1?arguments[1]:void 0;setTimeout(Object(v["a"])(regeneratorRuntime.mark(function r(){var i;return regeneratorRuntime.wrap(function(r){while(1)switch(r.prev=r.next){case 0:return w.loading=!0,r.next=3,b["a"].dispatch("host/"+w.initializerKey).catch(function(e){return console.log(e)});case 3:return r.next=5,b["a"].dispatch("host/"+n);case 5:i=r.sent,$[n]=i.subscribe({next:function(e){t=0,console.log("eventData",e),b["a"].dispatch("host/"+w.callbackKey,e.value.data[n])},error:function(r){console.error("subscribe connection errors",r);var i=r.errors;i&&i.find(function(e){return"Network Error"===e.message})&&(0===t&&(t=50),e(2*t,n))},complete:function(e){return console.log("completed",e)}}),w.loading=!1;case 8:case"end":return r.stop()}},r,this)})),t)},k=function(e){console.log("disconnect ".concat(e,":"),$[e]),$[e]&&"function"===typeof $[e].unsubscribe&&($[e].unsubscribe(),delete $[e])},y=function(e,t,n){if(w.initializerKey=t,w.callbackKey=n,w.loading)console.log("My !!!connect local.loading",w.loading);else{var r=e;$[r]&&!$[r].closed||(k(r),I(0,r))}},w={initializerKey:null,callbackKey:null,loading:!1},O={connect:y,disconnect:k},$={},N=O;n.d(t,"e",function(){return i}),n.d(t,"d",function(){return o}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return m}),n.d(t,"a",function(){return N})}});
//# sourceMappingURL=app.43f1de92.js.map